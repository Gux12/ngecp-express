THREE.JSONIndexLoader=function(c){THREE.Loader.call(this,c);this.withCredentials=!1};THREE.JSONIndexLoader.prototype=Object.create(THREE.Loader.prototype);THREE.JSONIndexLoader.prototype.constructor=THREE.JSONIndexLoader;THREE.JSONIndexLoader.prototype.load=function(c,d,b){b=b&&"string"===typeof b?b:this.extractUrlBase(c);this.onLoadStart();this.loadAjaxJSON(this,c,d,b)};THREE.JSONIndexLoader.prototype.loadAjaxJSON=function(c,d,b,h,f){var a=new XMLHttpRequest,e=0;a.onreadystatechange=function(){if(a.readyState===a.DONE)if(200===a.status||0===a.status){if(a.responseText){var g=JSON.parse(a.responseText);b(g)}else THREE.error("THREE.JSONIndexLoader: "+d+" seems to be unreachable or the file is empty.");c.onLoadComplete()}else THREE.error("THREE.JSONIndexLoader: Couldn't load "+d+" ("+a.status+")");else a.readyState===a.LOADING?f&&(0===e&&(e=a.getResponseHeader("Content-Length")),f({total:e,loaded:a.responseText.length})):a.readyState===a.HEADERS_RECEIVED&&void 0!==f&&(e=a.getResponseHeader("Content-Length"))};a.open("GET",d,!0);a.withCredentials=this.withCredentials;a.send(null)};